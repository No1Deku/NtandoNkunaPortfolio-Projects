#Note : Gender is 1.female and 0.male 
#Churn 1.Yes 0.No
#Scaler is exported as scaler.pkl
#Model is exported as model.pkl
#Order of X ['Age', 'Tenure', 'Gender', 'MonthlyCharges']

import streamlit as st
import joblib
import numpy as np

st.title("Churn Prediction App")

st.divider()

st.write("Please enter your values  and hit the predict button to fetch predictive results")

st.divider()

age= st.number_input("Enter Your Desired Age",min_value=10,max_value=100,value=30)
gender = st.selectbox("specify gender ",["Male","Female"])

tenure = st.number_input("Enter Tenure", min_value=0,max_value=130,value=10)

monthlycharges = st.number_input("Enter The Monthly Charges",min_value=30,max_value=150)


scaler =joblib.load("scaler.pkl")
model = joblib.load("model.pkl")

predict_button= st.button("Predict!")

if predict_button :

    gender_selected = 1 if gender == "Female" else 0
    
    X = [age,gender,tenure,monthlycharges]

    X1 = np.array(X)

    X_array =  scaler.transform([X1])

    prediction =  model.predict(X_array)[0]

    predicted =  "Yes" if prediction ==1 else "No"

    st.write(f"Predicted : {predicted   }")

else : 
    st.write("Error : Please enter values and click predict ")
